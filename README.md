# util-wp-posts

A wrapper for WP_Post

## Usage

```php
// your-theme-dir/Car.php

/**
 * A wrapper for Car post type posts
 */
class Car extends \Cvy\WP\Posts\Post
{
  public function get_max_speed() : float
  {
    return (float) $this->get_meta( 'speed' );
  }

  public function get_colors() : array
  {
    return $this->get_acf( 'colors' );
  }

  public function get_upgrade_options( array $query_args = [] ) : array
  {
    $query_args = array_merge([
      'fields' => 'all',
    ], $query_args );

    $upgrade_options = $this->get_terms( 'upgrade_options', $query_args );

    return array_map(
      fn( \WP_Term $term ) => $term->term_name,
      $upgrade_options
    );
  }
}
```

```php
// your-theme-dir/archive-car.php

while ( have_posts() )
{
  the_post();

  $car = new Car( get_the_ID() );

  $model = $car->get_label();

  $max_speed = $car->get_max_speed();

  $colors = implode( ', ', $car->get_colors() );

  $top_upgrade_options = $car->get_upgrade_options([
    'meta_key' => 'popularity',
    'order_by' => 'meta_num', ///////?????????????????????????????????????????????????????????????????????????????????????????????????????????????
    'order' => 'ASC',
    'per_page' => 5, ///////?????????????????????????????????????????????????????????????????????????????????????????????????????????????
  ]);

  $top_upgrade_options = implode( ', ', $top_upgrade_options );

  echo
    "Model: $model;<br>
    Max speed: $max_speed;<br>
    Colors: $colors;<br>
    Top upgrade options: $top_upgrade_options.";
}

```

## Installation

-------------------------------------??????????